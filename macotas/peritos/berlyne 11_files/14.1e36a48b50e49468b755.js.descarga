(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"8HkX":function(t,e,n){},"CE+d":function(t,e,n){},FEky:function(t,e,n){"use strict";n.r(e);var o=n("uDfI"),a=n("gYfH"),i=n("d11g"),r=n("0O9T"),l=n("fuqr");var c=n("q1tI"),s=n.n(c),_=n("i8i4"),d=n.n(_),p=n("d5gM"),h=n("w2u0"),u=n("X82N"),g=n("323L"),m=n("Oaiu");n("8HkX");function O(){return O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},O.apply(this,arguments)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class b extends s.a.Component{constructor(t){super(t),f(this,"calculate_style",(()=>{const{x:t,y:e}=this.props,n=Object(g.isMobile)();return{top:e+10,left:n?8:t-100,width:n?window.innerWidth-20:200}})),f(this,"handle_click_delete",(()=>{this.props.handle_delete(this.props.annotation.id)})),f(this,"handle_share",(()=>{const{annotation:t,open_share_quote_modal:e,logged_in:n}=this.props;if(n)if(navigator.share){Object(g.trackEvent)("pdf:highlight:navigator_share");let e=document.location.href,n=p.default.t("webpack.doc_page.src.App.Page.annotations.AnnotationPopover.AnnotationPopover.annotation_text_page_annotation_page_nread_more",{annotation_text:t.text,annotation_page:t.page});const o=document.querySelector("link[rel=canonical]");null!==o&&(e=o.href),navigator.share({title:document.title,text:n,url:e})}else Object(g.trackEvent)("pdf:highlight:share_quote"),e(t);else this.handle_create_annotation(null,m.ACCOUNT_CREATION.USER_ACTIONS.SHARE_QUOTE)})),f(this,"handle_update_working_note",(()=>{const{handle_update_working_note:t,open_note_modal:e,logged_in:n}=this.props;n?Object(g.isMobile)()?e():t():this.handle_create_annotation(null,m.ACCOUNT_CREATION.USER_ACTIONS.ADD_NOTE)})),f(this,"handle_create_annotation",((t,e=m.ACCOUNT_CREATION.USER_ACTIONS.HIGHLIGHT,n=!1)=>{const{annotation:o,x:a,y:i}=this.props;this.props.handle_create_annotation(e,o,a,i,n)})),f(this,"handle_create_highlight",(()=>{this.handle_create_annotation(null,m.ACCOUNT_CREATION.USER_ACTIONS.HIGHLIGHT,!0)})),f(this,"render_highlight_button",(()=>this.props.is_working?s.a.createElement(u.TextButton,{onClick:this.handle_create_highlight},p.default.t("webpack.doc_page.src.App.Page.annotations.AnnotationPopover.AnnotationPopover.highlight")):s.a.createElement(u.TextButton,{onClick:this.handle_click_delete},p.default.t("webpack.doc_page.src.App.Page.annotations.AnnotationPopover.AnnotationPopover.delete")))),f(this,"render_content",(()=>s.a.createElement(h.a,O({id:"annotation_popover"},this.calculate_style()),s.a.createElement("ul",{className:"auto__doc_page_app_page_annotations_annotation_popover"},s.a.createElement("li",{className:"list_item"},this.render_highlight_button()),s.a.createElement("li",{className:"list_item"},s.a.createElement(u.TextButton,{onClick:this.handle_update_working_note},p.default.t("webpack.doc_page.src.App.Page.annotations.AnnotationPopover.AnnotationPopover.add_note"))),s.a.createElement("li",{className:"list_item"},s.a.createElement(u.TextButton,{onClick:this.handle_share},p.default.t("webpack.doc_page.src.App.Page.annotations.AnnotationPopover.AnnotationPopover.share_quote"))))))),f(this,"render",(()=>{let t=this.render_content();return d.a.createPortal(t,this.el)})),this.el=document.createElement("div")}componentDidMount(){Object(l.a)(this.props.annotation.page).appendChild(this.el)}componentWillUnmount(){Object(l.a)(this.props.annotation.page).removeChild(this.el)}}e.default=Object(o.connect)((t=>{let{annotations:e,selected:n,working:o,x:a,y:i}=t.annotations,r=-1===n;return{is_working:r,annotation:r?o:e[n],x:a,y:i,zoom:t.documentViewer.zoom,document_width:t.documentViewer.document_width,logged_in:t.user.isLoggedIn}}),(t=>({handle_delete:e=>{t(Object(a.p)(e))},handle_delete_working:()=>t(Object(a.x)(null)),handle_create_annotation:(e,n,o,i,l=!1)=>t(Object(r.a)({userAction:e,trackingData:{loc:"create_annotation",page:"doc"},focus_target:document.activeElement},a.b,[n,o,i,l])),handle_update_working_note:()=>t(Object(a.y)()),open_share_quote_modal:e=>t(Object(i.i)({component_loader:()=>n.e(21).then(n.bind(null,"Fp96")),props_loading:()=>Promise.resolve({}),annotation:e})),open_note_modal:Object(l.b)(t)})))(b)},fuqr:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return l}));var o=n("d11g"),a=n("Oaiu");let i={};const r=t=>(i[t]||(i[t]=document.getElementById(`outer_page_${t}`)),i[t]),l=t=>()=>{t(Object(o.m)({userAction:a.ACCOUNT_CREATION.USER_ACTIONS.ADD_NOTE,trackingData:{loc:"add_note",page:"doc"},focus_target:document.activeElement},Object(o.i)({component_loader:()=>n.e(15).then(n.bind(null,"Fcdy")),props_loading:()=>Promise.resolve({})})))}},w2u0:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n("q1tI"),a=n.n(o),i=n("O94r"),r=n.n(i);n("CE+d");function l({top:t,left:e,width:n,height:o,position:i,id:l,children:c}){let s={top:t,left:e,width:n,height:o};return a.a.createElement("div",{id:l,className:r()("auto__doc_page_shared_components_popover",i),style:s},c)}l.defaultProps={position:"top",id:null,height:null}}}]);
//# sourceMappingURL=https://www.scribd.com/webpack/doc_page/14.1e36a48b50e49468b755.js.map